{
   "agent":{
      "metrics_collection_interval":60,
      "logfile":"/opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log"
   },
   "metrics":{
      "metrics_collected":{
         "disk":{
            "resources":[
               "*"
            ],
            "measurement":[
               "used_percent"
            ],
            "metrics_collection_interval":60
         },
         "mem":{
            "measurement":[
               "mem_used_percent",
               "mem_free"
            ],
            "metrics_collection_interval":60
         }
      },
      "append_dimensions":{
         "InstanceId":"${aws:InstanceId}"
      },
      "force_flush_interval":30
   },
   "logs":{
      "logs_collected":{
         "files":{
            "collect_list":[
               {
                  "file_path":"/var/log/cfn-init.log",
                  "log_group_name":"common/build/linux/cloud-init-log",
                  "log_stream_name":"{instance_id}"
               },
               {
                  "file_path":"/var/log/cfn-init-cmd.log",
                  "log_group_name":"common/build/linux/cfn-init-cmd-log",
                  "log_stream_name":"{instance_id}"
               },
               {
                  "file_path":"/var/log/cloud-init.log",
                  "log_group_name":"common/build/linux/cloud-init-log",
                  "log_stream_name":"{instance_id}"
               }
            ]
         }
      }
   }
}
